@page "/"

@implements IDisposable
@inject IJSRuntime JsRuntime

<PageTitle>MattParkerDev</PageTitle>
<SeoHeader Title="MattParkerDev" Description="My portfolio website and where I blog about .NET, Azure and all things software." />


    <MudStack Justify="Justify.SpaceBetween" AlignItems="AlignItems.Center" Row="true">
        <MudContainer Class="mx-0 w-[60%]">
            <MudText Align="Align.Center" Typo="Typo.h1" Class="text-bold" GutterBottom="true">Hi, I'm Matt Parker! 👋</MudText>
            <MudText Align="Align.Center" Class="d-none d-sm-block" Typo="Typo.body1" Style="font-weight: bold" >Software Engineer at SSW | C# | .NET | Blazor | TypeScript | React </MudText>
            <MudContainer Class="d-none d-md-block mx-0 px-0 mt-3">
                <MudStack Justify="Justify.SpaceEvenly" Row="true">
                    <MudChip Href="https://ssw.com.au/people/matt-parker" Target="_blank" Icon="@Icons.Material.Filled.Person" Color="Color.Error">SSW.People</MudChip>
                    <MudChip Href="https://www.linkedin.com/in/mattparkerdev" Target="_blank" Icon="@Icons.Custom.Brands.LinkedIn" Color="Color.Primary">LinkedIn</MudChip>
                    <MudChip Href="https://github.com/MattParkerDev" Target="_blank" Icon="@Icons.Custom.Brands.GitHub" Color="Color.Dark">GitHub</MudChip>
                    <MudChip Href="https://twitter.com/MattParkerDev" Target="_blank" Icon="@Icons.Custom.Brands.Twitter" Color="Color.Info">Twitter</MudChip>
                </MudStack>
            </MudContainer>

            <MudSpacer />
        </MudContainer>
        
        <div class="hero-img w-[40%]">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 652 644" fill="none" class="mondrian">
                <rect opacity="0.05" x="1" width="163" height="60" rx="10" fill="var(--mud-palette-text-primary)" data-astro-cid-j7pv25f6=""></rect>
                <rect x="424" width="193" height="60" rx="10" fill="var(--mud-palette-secondary)" data-astro-cid-j7pv25f6=""></rect>
                <rect x="424" y="68" width="193" height="175" rx="10" fill="var(--mud-palette-secondary)" data-astro-cid-j7pv25f6=""></rect>
                <rect opacity="0.2" x="424" y="401" width="193" height="79" rx="10" fill="var(--mud-palette-primary)" data-astro-cid-j7pv25f6=""></rect>
                <rect x="255" y="626" width="362" height="18" rx="9" fill="var(--bg)" data-astro-cid-j7pv25f6=""></rect>
                <rect x="80" y="579" width="166" height="65" rx="10" fill="var(--bg)" data-astro-cid-j7pv25f6=""></rect>
                <rect x="255" y="579" width="160" height="40" rx="10" fill="var(--mud-palette-text-primary)" data-astro-cid-j7pv25f6=""></rect>
                <rect opacity="0.05" x="255" y="490" width="160" height="80" rx="10" fill="var(--mud-palette-text-primary)" data-astro-cid-j7pv25f6=""></rect>
                <rect opacity="0.05" x="255" y="400" width="160" height="80" rx="10" fill="var(--mud-palette-text-primary)" data-astro-cid-j7pv25f6=""></rect>
                <rect x="80" y="68" width="335" height="324" rx="10" fill="var(--mud-palette-primary)" data-astro-cid-j7pv25f6=""></rect>
                <rect x="80" y="401" width="166" height="169" rx="10" fill="var(--mud-palette-text-primary)" data-astro-cid-j7pv25f6=""></rect>
                <rect x="424" y="490" width="193" height="129" rx="10" fill="var(--mud-palette-tertiary)" data-astro-cid-j7pv25f6=""></rect>
                <rect opacity="0.05" x="626" y="490" width="26" height="154" rx="10" fill="var(--mud-palette-secondary)" data-astro-cid-j7pv25f6=""></rect>
                <rect x="424" y="252" width="91" height="140" rx="10" fill="var(--bg)" data-astro-cid-j7pv25f6=""></rect>
                <rect x="524" y="252" width="93" height="140" rx="10" fill="var(--bg)" data-astro-cid-j7pv25f6=""></rect>
                <rect opacity="0.05" x="626" width="26" height="480" rx="10" fill="var(--mud-palette-text-primary)" data-astro-cid-j7pv25f6=""></rect>
                <rect x="173" width="242" height="60" rx="10" fill="var(--bg)" data-astro-cid-j7pv25f6=""></rect>
                <rect x="1" y="68" width="70" height="157" rx="10" fill="var(--bg)" data-astro-cid-j7pv25f6=""></rect>
                <rect opacity="0.05" x="1" y="234" width="70" height="259" rx="10" fill="var(--mud-palette-text-primary)" data-astro-cid-j7pv25f6=""></rect>
                <rect x="1" y="502" width="70" height="142" rx="10" fill="var(--mud-palette-secondary)" data-astro-cid-j7pv25f6=""></rect>
            </svg>
        </div>
        @* <MudAvatar @onclick="ScheduleAnimationOrCancelAnimation" Class="@_avatarIconClass" Elevation="16" Style="width: 300px; height: 300px; cursor: pointer"> *@
        @*     <CustomImage Src="img/github-profile-pic" PreferredExtensionOrder="avif,webp,png" Width="300" Height="300" Alt="MattParkerDev's Profile Picture" /> *@
        @* </MudAvatar> *@
    </MudStack>
    
    <MudText Class="d-flex d-sm-none" Typo="Typo.body1" Style="font-weight: bold" >Software Engineer at SSW<br/> C# | .NET | Blazor | TypeScript | React </MudText>
    <MudContainer Class="d-block d-md-none px-0 mt-2">
        <MudStack Justify="Justify.SpaceEvenly" Spacing="0" Row="true">
            <MudChip Href="https://ssw.com.au/people/matt-parker" Target="_blank" Icon="@Icons.Material.Filled.Person" Color="Color.Error">SSW.People</MudChip>
            <MudChip Href="https://www.linkedin.com/in/mattparkerdev" Target="_blank" Icon="@Icons.Custom.Brands.LinkedIn" Color="Color.Primary">LinkedIn</MudChip>
            <MudChip Href="https://github.com/MattParkerDev" Target="_blank" Icon="@Icons.Custom.Brands.GitHub" Color="Color.Dark">GitHub</MudChip>
            <MudChip Href="https://twitter.com/MattParkerDev" Target="_blank" Icon="@Icons.Custom.Brands.Twitter" Color="Color.Info">Twitter</MudChip>
        </MudStack>
    </MudContainer>


@code {
    private string _avatarIconClass = "";
    private bool _animationCancellationScheduled = false;
    
    private DotNetObjectReference<Index>? _objRef;

    protected override void OnInitialized()
    {
        _objRef = DotNetObjectReference.Create(this);
    }

    private async Task ScheduleAnimationOrCancelAnimation()
    {
        if (_avatarIconClass == "")
        {
            AddAnimationClass();
            _animationCancellationScheduled = false;
            return;
        }
        _animationCancellationScheduled = true;
        await JsRuntime.InvokeVoidAsync("registerAnimationEventListener", _objRef);
    }

    [JSInvokable]
    public void RemoveAnimationClassIfScheduled()
    {
        if (_animationCancellationScheduled)
        {
            RemoveAnimationClass();
        }
    }
    
    private void RemoveAnimationClass()
    {
        _avatarIconClass = "";
        StateHasChanged();
    }
    
    private void AddAnimationClass()
    {
        _avatarIconClass = "avatar-float";
        StateHasChanged();
    }

    public void Dispose()
    {
        _objRef?.Dispose();
    }
}