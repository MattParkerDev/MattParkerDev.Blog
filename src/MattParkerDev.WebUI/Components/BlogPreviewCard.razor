@using System.Reflection.Metadata

@inject NavigationManager NavigationManager


<MudCard Style="cursor:pointer; height: 360px" @onclick="OpenBlog">
    <MudStack Style="height: 200px">
        <MudStack>
            @if (ImageUrl is not null)
            {
                <CustomImage Src="@ImageUrl" PreferredExtensionOrder="avif,webp,jpg" Style="height: 200px; width: 100%; object-fit: cover; border-top-left-radius: 5px; border-top-right-radius: 5px;"/>
            }
            else if (Icon is not null)
            {
                <MudImage Src="@Icon" Style="background-color: #f3f3f3; height: 200px; width: 100%; object-fit: contain; border-top-left-radius: 5px; border-top-right-radius: 5px;"/>
            }
        </MudStack>
        <MudSpacer />
    </MudStack>
    <MudCardContent>
        <MudText Typo="Typo.h5">@Title</MudText>
        <MudText>@Description</MudText>
    </MudCardContent>
    <MudCardActions>
    </MudCardActions>
</MudCard>

@code {
    [Parameter, EditorRequired]
    public required string Title { get; set; }
    [Parameter, EditorRequired]
    public required string Description { get; set; }
    [Parameter, EditorRequired]
    public required string Slug { get; set; }
    [Parameter]
    public string? ImageUrl { get; set; }
    [Parameter]
    public string? Icon { get; set; }
    
    private void OpenBlog()
    {
        NavigationManager.NavigateTo("/blog/" + Slug);
    }
}