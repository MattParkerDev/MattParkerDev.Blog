@using System.Reflection.Metadata

@inject NavigationManager NavigationManager


<MudCard Style="cursor:pointer; height: 360px" @onclick="OpenBlog">
    <MudStack Style="height: 200px">
        <MudStack>
            @if (false)
            {
                <MudSpacer/>
                <MudText Align="Align.Center" Typo="Typo.h2">🚧</MudText>
                <MudSpacer/>
            }
            else
            {
                <CustomImage Src="@ImageUrl" PreferredExtensionOrder="avif,webp,jpg" Style="height: 200px; width: 100%; object-fit: cover; border-top-left-radius: 5px; border-top-right-radius: 5px;" />
            }
        </MudStack>
        <MudSpacer />
    </MudStack>
    <MudCardContent>
        <MudText Typo="Typo.h5">@Title</MudText>
        <MudText>@Description</MudText>
    </MudCardContent>
    <MudCardActions>
    </MudCardActions>
</MudCard>

@code {
    [Parameter, EditorRequired]
    public required string Title { get; set; }
    [Parameter, EditorRequired]
    public required string Description { get; set; }
    [Parameter, EditorRequired]
    public required string Slug { get; set; }
    [Parameter, EditorRequired]
    public required string ImageUrl { get; set; }
    
    private void OpenBlog()
    {
        NavigationManager.NavigateTo("/blog/" + Slug);
    }
}